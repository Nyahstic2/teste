<!DOCTYPE HTML>
<html>
  <head>
    <meta charset="utf-8">
    <title>Olá, mundo</title>
    <style>
      span{
        display: block;
      }
       .particle {
            position: absolute;
            font-size: 24px;
            animation: fly 2s ease-out forwards;
        }
      .error{
        color: red;
      }
        @keyframes fly {
            0% {
                font-size: 24px;
                opacity: 1;
            }
            100% {
                font-size: 0px;
                opacity: 0;
            }
        }
    </style>
  </head>
  <body>
      <h1> Hello, World! </h1>
      <p>isto é um arquivo HTML</p>
      <div id="buttonDiv"> <button id="botao" onclick="addNumero()">Clique-me</button> </div>
      <span id="clique" style="display: block;"></span>
    <script defer>
      let num = 0;    
      let erro = false;
      const botao = document.querySelector('#botao');
      const buttonDiv = document.querySelector('#buttonDiv');
      function addNumero(){
        
          if (!erro) num++;
          createParticle();
         console.error("fui clickado, pra quê?");
          document.getElementById("clique").innerHTML = `Você clicou ${num} ${num == 1 ? "vez" : "vezes"}`;
          if ((num % 100) == 0) { 
              console.error("Pausa de descanso! O botão será desativado por 30 segundos.\nPor mais que isso não seja necessáriamente ruim, caso você esteja no mobile (algo que eu não consigo saber) você teria que ter tocado no mesmo lugar da tela 100 vezes pra chegar até aqui!!!");
           
            
        const timerElement = document.createElement('span'); // Criar elemento para o contador
        timerElement.id = 'contador'; // Adicionar um ID para facilitar a manipulação
        timerElement.style.marginLeft = '10px'; // Espaçamento para estética
        buttonDiv.appendChild(timerElement); // Adicionar ao DOM, perto do botão
        var tempoRestante = 30000; // Tempo de espera em segundos
            erro = true;
        const intervalo = setInterval(() => {
            timerElement.textContent = ` Tempo restante: ${Math.floor(tempoRestante / 1000)}s`; // Atualizar o contador
            tempoRestante--;
            if (tempoRestante == 0) {
                clearInterval(intervalo); // Parar o contador
                timerElement.remove(); // Remover o contador do DOM
              erro = false;
            }
        }, 1); // Atualização a cada segundo
          
              var c = document.createElement("span");
              c.innerHTML = `Você conseguiu ultrapassar de ${num} vezes!`;
              if ((num % 1000) == 0) c.setAttribute("style","color: green; font-size: 40px;");
              else c.setAttribute("style","color: blue; font-size: 20px");
              document.body.appendChild(c);
          }
      }

      
        function createParticle() {
            const particle = document.createElement('div');
            particle.classList.add('particle');
            if(erro)particle.classList.add('error');
            if(!erro)particle.textContent = '1';
            else particle.textContent = '0';
            document.body.appendChild(particle);

            let x = Math.random() * window.innerWidth;
            let y = Math.random() * window.innerHeight;
            particle.style.left = `${x}px`;
            particle.style.top = `${y}px`;
            const xSpeed = Math.random();
            let num = setInterval(() => {
                x-= xSpeed;
                y--;
                particle.style.left = `${x}px`;
                particle.style.top = `${y}px`;
            }, 1);
            setTimeout(() => {
                particle.remove();
                clearInterval(num);
            }, 2000); // Remove a partícula após 2 segundos
        }
    
    </script>
  </body>
</html>
